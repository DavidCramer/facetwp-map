var facetwp_map_edit_state=!1;!function(a){function b(){var b;a(".facetwp_map-ajax").baldrick({request:window.location.href,before:function(c,d){b&&b.remove(),b=a('<span class="facetwp_map-ajax spinner"></span>'),d.originalEvent&&d.originalEvent.explicitOriginalTarget&&b.addClass("inline"),a(c).find(".facetwp_map-title").append(b)},callback:function(c,d){d&&d.originalEvent&&d.originalEvent.explicitOriginalTarget?(b.removeClass("spinner").addClass("dashicons dashicons-yes"),setTimeout(function(){b.fadeOut(1e3,function(){b.remove()})},1e3),a(d.originalEvent.explicitOriginalTarget).prop("disabled",!1).removeClass("disabled")):(b.remove(),c.params.trigger.find(".ajax-triggered").removeClass("ajax-triggered")),facetwp_map_edit_state=!1}})}a(document).on("facetwp_map.init",b),jQuery(document).ready(function(){a("form.facetwp_map-ajax").each(function(){var b=a(this);b.data("autosave")?(a(document).on("facetwp_map.save",function(){b.trigger("submit")}),b.on("change","[name]",function(b){a(this).addClass("ajax-triggered"),a(document).trigger("facetwp_map.save")})):b.on("change","[name]",function(){facetwp_map_edit_state=!0})})}),window.onbeforeunload=function(a){if(!1!==facetwp_map_edit_state){var b="confirm";return a.returnValue=b,b}}}(jQuery);